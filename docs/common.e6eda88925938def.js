"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[592],{5152:(m,g,l)=>{l.d(g,{N:()=>h});var i=l(5619);const d=[{label:"Main background color",cssVariable:"--background-color-main"},{label:"Accent background color (header)",cssVariable:"--background-color-accent"},{label:'Font family ("Segoe UI", roboto, verdana, sans-serif)',cssVariable:"--font-family"},{label:"Main font color (original text)",cssVariable:"--font-color-main"},{label:"Translation font color",cssVariable:"--font-color-translation"},{label:"Translation font color - for mobile (small screens)",cssVariable:"--font-color-translation-mobile"},{label:"Accent font color (header)",cssVariable:"--font-color-accent"},{label:"Font size original text (32px)",cssVariable:"--font-size-original-text"},{label:"Font size translation text (24px)",cssVariable:"--font-size-translation-text"},{label:"Flex width original text (1)",cssVariable:"--flex-width-original"},{label:"Flex width translation text (0.6)",cssVariable:"--flex-width-translation"},{label:"Original translation direction (row-reverse | row)",cssVariable:"--original-translation-flex-direction"},{label:"Max width for original text (900px)",cssVariable:"--max-width-for-original-text"},{label:"Color primary",cssVariable:"--color-primary"},{label:"Color accent",cssVariable:"--color-accent"},{label:"Color warn",cssVariable:"--color-warn"}];var b=l(5879),r=l(2969);let h=(()=>{class e{constructor(a){this.localStorageService=a,this.customStyles$=new i.X([]);const n=[];d.forEach(u=>{n.push({...u,value:this.localStorageService.getString(u.cssVariable)})}),this.customStyles$.next(n)}setStyle(a,n){this.localStorageService.setString(a,n);const u=this.customStyles$.value,o=u.find(t=>t.cssVariable===a);o&&(o.value=n,this.customStyles$.next([...u]))}resetAllStyles(){const a=[];d.forEach(n=>{a.push({...n,value:""}),this.localStorageService.setString(n.cssVariable,"")}),this.customStyles$.next(a)}}return e.\u0275fac=function(a){return new(a||e)(b.LFG(r.n))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},144:(m,g,l)=>{l.d(g,{U:()=>a});var i=l(9026),d=l(8180),b=l(7398),h=l(6814),e=l(5879),s=l(463);let a=(()=>{class n{constructor(o){this.bookService=o,this.datePipe=new h.uU("en")}importMorphology(o){const t=JSON.parse(o);if(t?.[0]?.i&&t?.[0]?.o)return this.bookService.updateMorphology$(t);console.error("if (!morphologies?.[0]?.i || !morphologies?.[0]?.o)")}importDictionary(o){const t=JSON.parse(o);if(t?.[0]?.term)return this.bookService.updateDictionary$(t);console.error("!dictionary?.[0]?.term")}importJsonText(o){const t=JSON.parse(o);if(t.book?.title&&t.book?.content?.[0]?.original)return this.bookService.import$(t);console.error("!bilinguaJson.book?.title || !bilinguaJson.book?.content?.[0]?.original")}importTextFile(o){const t=o.split("\n").map(c=>c.trim().replaceAll("`","'")).filter(c=>c);return this.bookService.create$(t[0].slice(0,30),t,null)}export(o){(0,i.$)(this.bookService.getTitle$(o),this.bookService.getContent$(o),this.bookService.getHeaders$(o),this.bookService.getMarkedItems$(o),this.bookService.getFragments$(o)).pipe((0,d.q)(1),(0,b.U)(t=>({id:t[0].id,title:t[0].title,description:t[0].description,content:t[1].content,headers:t[2]?.headers||[],markedItems:t[3]?.markedItems||[],fragments:t[4]?.fragments||[]}))).subscribe(t=>{const c={...t},S=JSON.stringify({jsonContentDescription:"Bilingua book",book:c});this.download(S,c.title)})}download(o,t){const p=document.createElement("a"),S=new Blob([o],{type:"text/plain"}),f=this.datePipe.transform(new Date,"yyyy-MM-dd");p.href=URL.createObjectURL(S),p.download=t+`.${f}.bilingua.json`,p.click(),p.remove()}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(s.Z))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},2969:(m,g,l)=>{l.d(g,{n:()=>b});var i=function(r){return r.ShowTranslation="ShowTranslation",r.ShowButtonToolTips="ShowButtonToolTips",r.AudioVoiceURI="AudioVoiceURI",r.AudioVolume="AudioVolume",r.AudioRate="AudioRate",r.CurrentPopupMenuTab="CurrentPopupMenuTab",r.CopyToClipboard="CopyToClipboard",r.ShowDictionary="ShowDictionary",r.HideMarkedHeaders="HideMarkedHeaders",r}(i||{}),d=l(5879);let b=(()=>{class r{get hideMarkedHeaders(){return this.getBoolean(i.HideMarkedHeaders,!1)}set hideMarkedHeaders(e){this.setBoolean(i.HideMarkedHeaders,e)}get copyToClipboard(){return this.getBoolean(i.CopyToClipboard,!0)}set copyToClipboard(e){this.setBoolean(i.CopyToClipboard,e)}get showDictionary(){return this.getBoolean(i.ShowDictionary,!1)}set showDictionary(e){this.setBoolean(i.ShowDictionary,e)}get currentPopupMenuTab(){return this.getNumber(i.CurrentPopupMenuTab)}set currentPopupMenuTab(e){this.setNumber(i.CurrentPopupMenuTab,e||0)}get audioVolume(){return this.getNumber(i.AudioVolume,1)}set audioVolume(e){this.setNumber(i.AudioVolume,0===e?0:e||1)}get audioRate(){return this.getNumber(i.AudioRate,1)}set audioRate(e){this.setNumber(i.AudioRate,0===e?0:e||1)}get audioVoiceURI(){return localStorage.getItem(i.AudioVoiceURI)||""}set audioVoiceURI(e){localStorage.setItem(i.AudioVoiceURI,e||"")}constructor(){this.trueString="true",this.falseString="false"}getString(e){return localStorage.getItem(e)||""}setString(e,s){localStorage.setItem(e,s)}setNumber(e,s){localStorage.setItem(e,String(s||0))}getNumber(e,s=0){const a=localStorage.getItem(e);if(null===a)return s;const n=+a;return Number.isNaN(n)?s:n}setBoolean(e,s){localStorage.setItem(e,s?this.trueString:this.falseString)}getBoolean(e,s=!1){const a=localStorage.getItem(e);return a===this.trueString||a!==this.falseString&&s}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);
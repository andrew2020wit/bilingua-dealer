"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[592],{5152:(h,g,l)=>{l.d(g,{N:()=>S});var s=l(5619);const d=[{label:"Main background color",cssVariable:"--background-color-main"},{label:"Accent background color (header)",cssVariable:"--background-color-accent"},{label:'Font family ("Segoe UI", roboto, verdana, sans-serif)',cssVariable:"--font-family"},{label:"Main font color (original text)",cssVariable:"--font-color-main"},{label:"Translation font color",cssVariable:"--font-color-translation"},{label:"Translation font color - for mobile (small screens)",cssVariable:"--font-color-translation-mobile"},{label:"Accent font color (header)",cssVariable:"--font-color-accent"},{label:"Font size original text (32px)",cssVariable:"--font-size-original-text"},{label:"Font size translation text (24px)",cssVariable:"--font-size-translation-text"},{label:"Flex width original text (1)",cssVariable:"--flex-width-original"},{label:"Flex width translation text (0.6)",cssVariable:"--flex-width-translation"},{label:"Original translation direction (row-reverse | row)",cssVariable:"--original-translation-flex-direction"},{label:"Max width for original text (900px)",cssVariable:"--max-width-for-original-text"},{label:"Color primary",cssVariable:"--color-primary"},{label:"Color accent",cssVariable:"--color-accent"},{label:"Color warn",cssVariable:"--color-warn"}];var b=l(5879),t=l(2969);let S=(()=>{class e{constructor(r){this.localStorageService=r,this.customStyles$=new s.X([]);const a=[];d.forEach(u=>{a.push({...u,value:this.localStorageService.getString(u.cssVariable)})}),this.customStyles$.next(a)}setStyle(r,a){this.localStorageService.setString(r,a);const u=this.customStyles$.value,i=u.find(o=>o.cssVariable===r);i&&(i.value=a,this.customStyles$.next([...u]))}resetAllStyles(){const r=[];d.forEach(a=>{r.push({...a,value:""}),this.localStorageService.setString(a.cssVariable,"")}),this.customStyles$.next(r)}}return e.\u0275fac=function(r){return new(r||e)(b.LFG(t.n))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},144:(h,g,l)=>{l.d(g,{U:()=>r});var s=l(9026),d=l(8180),b=l(7398),S=l(6814),e=l(5879),n=l(463);let r=(()=>{class a{constructor(i){this.bookService=i,this.datePipe=new S.uU("en")}importJsonText(i){const o=JSON.parse(i);if(o.book?.title&&o.book?.content?.[0]?.original)return this.bookService.import$(o);console.error("!bilinguaJson.book?.title || !bilinguaJson.book?.content?.[0]?.original")}importTextFile(i){const o=i.split("\n").map(c=>c.trim().replaceAll("`","'")).filter(c=>c);return this.bookService.create$(o[0].slice(0,30),o,null)}export(i){(0,s.$)(this.bookService.getTitle$(i),this.bookService.getContent$(i),this.bookService.getHeaders$(i),this.bookService.getMarkedItems$(i),this.bookService.getFragments$(i)).pipe((0,d.q)(1),(0,b.U)(o=>({id:o[0].id,title:o[0].title,description:o[0].description,content:o[1].content,headers:o[2]?.headers||[],markedItems:o[3]?.markedItems||[],fragments:o[4]?.fragments||[]}))).subscribe(o=>{const c={...o},p=JSON.stringify({jsonContentDescription:"Bilingua book",book:c});this.download(p,c.title)})}download(i,o){const m=document.createElement("a"),p=new Blob([i],{type:"text/plain"}),f=this.datePipe.transform(new Date,"yyyy-MM-dd");m.href=URL.createObjectURL(p),m.download=o+`.${f}.bilingua.json`,m.click(),m.remove()}}return a.\u0275fac=function(i){return new(i||a)(e.LFG(n.Z))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},2969:(h,g,l)=>{l.d(g,{n:()=>b});var s=function(t){return t.ShowTranslation="ShowTranslation",t.ShowButtonToolTips="ShowButtonToolTips",t.AudioVoiceURI="AudioVoiceURI",t.AudioVolume="AudioVolume",t.AudioRate="AudioRate",t.CurrentPopupMenuTab="CurrentPopupMenuTab",t.CopyToClipboard="CopyToClipboard",t.HideMarkedHeaders="HideMarkedHeaders",t}(s||{}),d=l(5879);let b=(()=>{class t{get hideMarkedHeaders(){return this.getBoolean(s.HideMarkedHeaders,!1)}set hideMarkedHeaders(e){this.setBoolean(s.HideMarkedHeaders,e)}get copyToClipboard(){return this.getBoolean(s.CopyToClipboard,!0)}set copyToClipboard(e){this.setBoolean(s.CopyToClipboard,e)}get currentPopupMenuTab(){return this.getNumber(s.CurrentPopupMenuTab)}set currentPopupMenuTab(e){this.setNumber(s.CurrentPopupMenuTab,e||0)}get audioVolume(){return this.getNumber(s.AudioVolume,1)}set audioVolume(e){this.setNumber(s.AudioVolume,0===e?0:e||1)}get audioRate(){return this.getNumber(s.AudioRate,1)}set audioRate(e){this.setNumber(s.AudioRate,0===e?0:e||1)}get audioVoiceURI(){return localStorage.getItem(s.AudioVoiceURI)||""}set audioVoiceURI(e){localStorage.setItem(s.AudioVoiceURI,e||"")}constructor(){this.trueString="true",this.falseString="false"}getString(e){return localStorage.getItem(e)||""}setString(e,n){localStorage.setItem(e,n)}setNumber(e,n){localStorage.setItem(e,String(n||0))}getNumber(e,n=0){const r=localStorage.getItem(e);if(null===r)return n;const a=+r;return Number.isNaN(a)?n:a}setBoolean(e,n){localStorage.setItem(e,n?this.trueString:this.falseString)}getBoolean(e,n=!1){const r=localStorage.getItem(e);return r===this.trueString||r!==this.falseString&&n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[907],{5709:(O,u,i)=>{i.d(u,{j:()=>M});var f=i(5619),p=i(8180),x=i(7772),g=i(5879),C=i(2e3),v=i(957);let M=(()=>{class m{constructor(s,_){this.dbService=s,this.infoService=_,this.examples$=new f.X([]),this.sort=(a,c)=>(a.toDoTimestamp||0)-(c.toDoTimestamp||0),this.dbService.getAll(x.L.FavoriteExamples).pipe((0,p.q)(1)).subscribe(a=>{a.forEach(c=>c.showDetails=!1),a?(a.sort(this.sort),this.examples$.next(a)):this.examples$.next([])})}addExample(s){const _=Date.now(),a={...s,timestamp:_,showDetails:!1};this.dbService.add(x.L.FavoriteExamples,a).pipe((0,p.q)(1)).subscribe();const c=[a,...this.examples$.value];this.examples$.next(c),this.infoService.show("added: "+s.original)}update(s){if(!s?.timestamp||!s.toDoTimestamp)return;const _=this.examples$.value,a=_.find(c=>c.timestamp===s.timestamp);a&&(a.toDoTimestamp=s.toDoTimestamp,a.updateTimestamp=Date.now(),this.dbService.update(x.L.FavoriteExamples,a).pipe((0,p.q)(1)).subscribe(),_.sort(this.sort),this.examples$.next(_))}removeExample(s){if(!s)return;this.dbService.delete(x.L.FavoriteExamples,s).pipe((0,p.q)(1)).subscribe();const _=this.examples$.value.filter(a=>a.timestamp!==s);this.examples$.next(_)}}return m.\u0275fac=function(s){return new(s||m)(g.LFG(C.ys),g.LFG(v.C))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},2907:(O,u,i)=>{i.r(u),i.d(u,{FavoriteExamplesComponent:()=>E});var _,f=i(7582),p=i(6814),x=i(2296),g=i(4408),C=i(5986),v=i(6223),M=i(1791),m=i(2596),t=i(5879),s=i(5709);function a(o,e){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",n.transcription," ")}}function c(o,e){if(1&o&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.hij(" Synonym: ",n.synonym," ")}}function T(o,e){if(1&o&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.hij(" Antonym: ",n.antonym," ")}}function P(o,e){if(1&o&&(t.TgZ(0,"div",27),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",n.translation," ")}}function h(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.hij("U: ",t.xi3(2,1,n.updateTimestamp,"dd.MM.yyyy"),";")}}function D(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.hij("ToDo: ",t.xi3(2,1,n.toDoTimestamp,"dd.MM.yyyy"),"")}}function y(o,e){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,a,2,1,"div",17),t.TgZ(2,"div",18),t._uU(3),t.qZA(),t.YNc(4,c,2,1,"div",19),t.YNc(5,T,2,1,"div",20),t.YNc(6,P,2,1,"div",21),t.TgZ(7,"div",22)(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,h,3,4,"span",23),t.YNc(12,D,3,4,"span",23),t.qZA()()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.transcription),t.xp6(2),t.hij(" ",n.definition," "),t.xp6(1),t.Q6J("ngIf",n.synonym),t.xp6(1),t.Q6J("ngIf",n.antonym),t.xp6(1),t.Q6J("ngIf",n.translation),t.xp6(3),t.hij(" C: ",t.xi3(10,8,n.timestamp,"dd.MM.yyyy"),"; "),t.xp6(2),t.Q6J("ngIf",n.updateTimestamp),t.xp6(1),t.Q6J("ngIf",n.toDoTimestamp)}}function A(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"span",9),t._uU(3),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,d=t.oxw();return t.KtG(d.favoriteExamplesService.removeExample(l.timestamp||0))}),t._uU(5," Del "),t.qZA(),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,d=t.oxw();return t.KtG(d.setToDo(l,1))}),t._uU(7," 1 "),t.qZA(),t.TgZ(8,"button",11),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,d=t.oxw();return t.KtG(d.setToDo(l,3))}),t._uU(9," 3 "),t.qZA(),t.TgZ(10,"button",11),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,d=t.oxw();return t.KtG(d.setToDo(l,7))}),t._uU(11," 7 "),t.qZA(),t.TgZ(12,"button",11),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,d=t.oxw();return t.KtG(d.setToDo(l,30))}),t._uU(13," 30 "),t.qZA(),t.TgZ(14,"span",12),t._uU(15),t.qZA(),t.TgZ(16,"span",13),t._uU(17),t.qZA()(),t.TgZ(18,"div",14),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit;return t.KtG(l.showDetails=!l.showDetails)}),t._uU(19),t.qZA(),t.YNc(20,y,13,11,"div",15),t.qZA()}if(2&o){const n=t.oxw().$implicit,r=t.oxw();t.ekj("old",r.dayFromUpdate(n)>25),t.xp6(2),t.Q6J("matTooltip","dayFromCreate/Update"),t.xp6(1),t.AsE(" [ ",r.dayFromCreate(n)," : ",r.dayFromUpdate(n),"]"),t.xp6(12),t.Oqu(n.partOfSpeech),t.xp6(2),t.Oqu(n.term),t.xp6(2),t.hij(" ",n.original," "),t.xp6(1),t.Q6J("ngIf",n.showDetails)}}function Z(o,e){if(1&o&&(t.ynx(0),t.YNc(1,A,21,9,"div",6),t.BQk()),2&o){const n=e.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showAll||r.exampleIsToDo(n))}}let E=((_=class{constructor(e){this.favoriteExamplesService=e,this.dayTime=864e5,this.showAll=!1,this.examples=[],this.toDoNumber=0}ngOnInit(){this.favoriteExamplesService.examples$.pipe((0,M.t)(this)).subscribe(e=>{this.examples=e,this.computeToDoNumber()})}trackBy(e,n){return n.timestamp}setToDo(e,n){e.toDoTimestamp=Date.now()+n*this.dayTime,this.favoriteExamplesService.update(e)}dayFromUpdate(e){return e.timestamp?Math.round((Date.now()-(e.updateTimestamp||e.timestamp))/this.dayTime):0}dayFromCreate(e){return e.timestamp?Math.round((Date.now()-e.timestamp)/this.dayTime):0}exampleIsToDo(e){return!e.toDoTimestamp||e.toDoTimestamp<Date.now()+432e5}computeToDoNumber(){this.toDoNumber=this.examples.filter(e=>this.exampleIsToDo(e)).length}}).\u0275fac=function(e){return new(e||_)(t.Y36(s.j))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-favorite-examples"]],standalone:!0,features:[t.jDz],decls:9,vars:5,consts:[[1,"header"],["mat-button","","color","primary","routerLink","/"],[1,"example-number"],["color","primary",1,"checkbox",3,"ngModel","ngModelChange"],[1,"list"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","example",3,"old",4,"ngIf"],[1,"example"],[1,"example-header"],[1,"day-from-update",3,"matTooltip"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary",3,"click"],[1,"pos"],[1,"term"],[1,"original",3,"click"],["class","description",4,"ngIf"],[1,"description"],["class","transcription",4,"ngIf"],[1,"definition"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","translation",4,"ngIf"],[1,"dates"],[4,"ngIf"],[1,"transcription"],[1,"synonym"],[1,"antonym"],[1,"translation"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2,"Go Home"),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.TgZ(5,"mat-checkbox",3),t.NdJ("ngModelChange",function(l){return n.showAll=l}),t._uU(6,"Show All"),t.qZA()(),t.TgZ(7,"div",4),t.YNc(8,Z,2,1,"ng-container",5),t.qZA()),2&e&&(t.xp6(4),t.AsE("Example number: ",n.toDoNumber," / ",(null==n.favoriteExamplesService.examples$||null==n.favoriteExamplesService.examples$.value?null:n.favoriteExamplesService.examples$.value.length)||0,""),t.xp6(1),t.Q6J("ngModel",n.showAll),t.xp6(3),t.Q6J("ngForOf",n.examples)("ngForTrackBy",n.trackBy))},dependencies:[p.ez,p.sg,p.O5,p.uU,x.ot,x.lW,g.rH,C.p9,C.oG,v.u5,v.JJ,v.On,m.AV,m.gM],styles:[".list[_ngcontent-%COMP%]{padding:var(--padding-main);max-width:800px;margin:auto}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{padding:var(--padding-small);outline:1px solid gray;margin:var(--padding-small)}.list[_ngcontent-%COMP%]   .example.old[_ngcontent-%COMP%]{outline:1px solid red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:gray}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{color:green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{font-weight:700}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{cursor:pointer;margin-top:var(--padding-small);font-size:22px}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:22px;padding-left:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:var(--padding-small) 0}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]{color:#00008b}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .translation[_ngcontent-%COMP%]{color:gray}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);font-size:12px}"]}),_);E=(0,f.gn)([(0,M.c)()],E)}}]);
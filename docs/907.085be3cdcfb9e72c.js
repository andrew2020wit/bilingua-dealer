"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[907],{5709:(h,v,a)=>{a.d(v,{j:()=>M});var E=a(5619),p=a(8180),u=a(2096),x=a(7772),d=a(5879),g=a(2e3),C=a(957);let M=(()=>{class t{constructor(i,l){this.dbService=i,this.infoService=l,this.examples$=new E.X([]),this.sort=(s,m)=>(s.toDoTimestamp||0)-(m.toDoTimestamp||0),this.dbService.getAll(x.L6.FavoriteExamples).pipe((0,p.q)(1)).subscribe(s=>{s.forEach(m=>m.showDetails=!1),s?(s.sort(this.sort),this.examples$.next(s)):this.examples$.next([])})}deleteAll(){return this.dbService.clear(x.L6.FavoriteExamples)}import(i){const l=JSON.parse(i)?.favoriteExamples;return l?.length?this.dbService.bulkAdd(x.L6.FavoriteExamples,l).pipe((0,p.q)(1)):(console.error("!examples?.length"),this.infoService.error("!examples?.length"),(0,u.of)([]))}addExample(i){const l=Date.now(),s={...i,timestamp:l,showDetails:!1};this.dbService.add(x.L6.FavoriteExamples,s).pipe((0,p.q)(1)).subscribe();const m=[s,...this.examples$.value];this.examples$.next(m),this.infoService.show("added: "+i.original)}update(i){if(!i?.timestamp||!i.toDoTimestamp)return;const l=this.examples$.value,s=l.find(m=>m.timestamp===i.timestamp);s&&(s.toDoTimestamp=i.toDoTimestamp,s.updateTimestamp=Date.now(),this.dbService.update(x.L6.FavoriteExamples,s).pipe((0,p.q)(1)).subscribe(),l.sort(this.sort),this.examples$.next(l))}removeExample(i){if(!i)return;this.dbService.delete(x.L6.FavoriteExamples,i).pipe((0,p.q)(1)).subscribe();const l=this.examples$.value.filter(s=>s.timestamp!==i);this.examples$.next(l)}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(g.ys),d.LFG(C.C))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2907:(h,v,a)=>{a.r(v),a.d(v,{FavoriteExamplesComponent:()=>O});var i,E=a(7582),p=a(6814),u=a(2296),x=a(4408),d=a(5986),g=a(6223),C=a(1791),M=a(2596),t=a(5879),f=a(5709);function l(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" / ",e.allExamplesNumber," ")}}function s(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.transcription," ")}}function m(o,n){if(1&o&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" Synonym: ",e.synonym," ")}}function T(o,n){if(1&o&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" Antonym: ",e.antonym," ")}}function P(o,n){if(1&o&&(t.TgZ(0,"div",27),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.translation," ")}}function D(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij("U: ",t.xi3(2,1,e.updateTimestamp,"dd.MM.yyyy"),";")}}function y(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij("ToDo: ",t.xi3(2,1,e.toDoTimestamp,"dd.MM.yyyy"),"")}}function A(o,n){if(1&o&&(t.TgZ(0,"div",17),t.YNc(1,s,2,1,"div",18),t.TgZ(2,"div",19),t._uU(3),t.qZA(),t.YNc(4,m,2,1,"div",20),t.YNc(5,T,2,1,"div",21),t.YNc(6,P,2,1,"div",22),t.TgZ(7,"div",23)(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,D,3,4,"span",4),t.YNc(12,y,3,4,"span",4),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.transcription),t.xp6(2),t.hij(" ",e.definition," "),t.xp6(1),t.Q6J("ngIf",e.synonym),t.xp6(1),t.Q6J("ngIf",e.antonym),t.xp6(1),t.Q6J("ngIf",e.translation),t.xp6(3),t.hij(" C: ",t.xi3(10,8,e.timestamp,"dd.MM.yyyy"),"; "),t.xp6(2),t.Q6J("ngIf",e.updateTimestamp),t.xp6(1),t.Q6J("ngIf",e.toDoTimestamp)}}function F(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"span",10),t._uU(3),t.qZA(),t.TgZ(4,"button",11),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,c=t.oxw();return t.KtG(c.favoriteExamplesService.removeExample(_.timestamp||0))}),t._uU(5," Del "),t.qZA(),t.TgZ(6,"button",12),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setToDo(_,1))}),t._uU(7," 1 "),t.qZA(),t.TgZ(8,"button",12),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setToDo(_,3))}),t._uU(9," 3 "),t.qZA(),t.TgZ(10,"button",12),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setToDo(_,7))}),t._uU(11," 7 "),t.qZA(),t.TgZ(12,"button",12),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setToDo(_,30))}),t._uU(13," 30 "),t.qZA(),t.TgZ(14,"span",13),t._uU(15),t.qZA(),t.TgZ(16,"span",14),t._uU(17),t.qZA()(),t.TgZ(18,"div",15),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit;return t.KtG(_.showDetails=!_.showDetails)}),t._uU(19),t.qZA(),t.YNc(20,A,13,11,"div",16),t.qZA()}if(2&o){const e=t.oxw().$implicit,r=t.oxw();t.ekj("old",r.dayFromUpdate(e)>25),t.xp6(2),t.Q6J("matTooltip","dayFromCreate/Update"),t.xp6(1),t.AsE(" [ ",r.dayFromCreate(e)," : ",r.dayFromUpdate(e),"]"),t.xp6(12),t.Oqu(e.partOfSpeech),t.xp6(2),t.Oqu(e.term),t.xp6(2),t.hij(" ",e.original," "),t.xp6(1),t.Q6J("ngIf",e.showDetails)}}function Z(o,n){if(1&o&&(t.ynx(0),t.YNc(1,F,21,9,"div",7),t.BQk()),2&o){const e=n.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showAll||r.exampleIsToDo(e))}}let O=((i=class{constructor(n){this.favoriteExamplesService=n,this.dayTime=864e5,this.showAll=!1,this.examples=[],this.toDoNumber=0,this.allExamplesNumber=0}ngOnInit(){this.favoriteExamplesService.examples$.pipe((0,C.t)(this)).subscribe(n=>{this.allExamplesNumber=n?.length||0,this.examples=n.slice(0,1e3),this.computeToDoNumber()})}trackBy(n,e){return e.timestamp}setToDo(n,e){n.toDoTimestamp=Date.now()+e*this.dayTime,this.favoriteExamplesService.update(n)}dayFromUpdate(n){return n.timestamp?Math.round((Date.now()-(n.updateTimestamp||n.timestamp))/this.dayTime):0}dayFromCreate(n){return n.timestamp?Math.round((Date.now()-n.timestamp)/this.dayTime):0}exampleIsToDo(n){return!n.toDoTimestamp||n.toDoTimestamp<Date.now()+432e5}computeToDoNumber(){this.toDoNumber=this.examples.filter(n=>this.exampleIsToDo(n)).length}}).\u0275fac=function(n){return new(n||i)(t.Y36(f.j))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-favorite-examples"]],standalone:!0,features:[t.jDz],decls:10,vars:6,consts:[[1,"list"],[1,"header"],["mat-button","","color","primary","routerLink","/"],[1,"example-number"],[4,"ngIf"],["color","primary",1,"checkbox",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","example",3,"old",4,"ngIf"],[1,"example"],[1,"example-header"],[1,"day-from-update",3,"matTooltip"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary",3,"click"],[1,"pos"],[1,"term"],[1,"original",3,"click"],["class","description",4,"ngIf"],[1,"description"],["class","transcription",4,"ngIf"],[1,"definition"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","translation",4,"ngIf"],[1,"dates"],[1,"transcription"],[1,"synonym"],[1,"antonym"],[1,"translation"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Go Home"),t.qZA(),t.TgZ(4,"span",3),t._uU(5),t.qZA(),t.YNc(6,l,2,1,"span",4),t.TgZ(7,"mat-checkbox",5),t.NdJ("ngModelChange",function(_){return e.showAll=_}),t._uU(8,"Show All"),t.qZA()(),t.YNc(9,Z,2,1,"ng-container",6),t.qZA()),2&n&&(t.xp6(5),t.AsE("Example number: ",e.toDoNumber," / ",(null==e.examples?null:e.examples.length)||0," "),t.xp6(1),t.Q6J("ngIf",e.allExamplesNumber!==(null==e.examples?null:e.examples.length)),t.xp6(1),t.Q6J("ngModel",e.showAll),t.xp6(2),t.Q6J("ngForOf",e.examples)("ngForTrackBy",e.trackBy))},dependencies:[p.ez,p.sg,p.O5,p.uU,u.ot,u.lW,x.rH,d.p9,d.oG,g.u5,g.JJ,g.On,M.AV,M.gM],styles:[".list[_ngcontent-%COMP%]{padding:var(--padding-main);max-width:800px;margin:auto}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{padding:var(--padding-small);outline:1px solid gray;margin:var(--padding-small)}.list[_ngcontent-%COMP%]   .example.old[_ngcontent-%COMP%]{outline:1px solid red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:gray}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{color:green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .example-header[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{font-weight:700}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{cursor:pointer;margin-top:var(--padding-small);font-size:22px}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:22px;padding-left:var(--padding-main)}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:var(--padding-small) 0}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]{color:#00008b}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:green}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .translation[_ngcontent-%COMP%]{color:gray}.list[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;gap:var(--padding-small);font-size:12px}"]}),i);O=(0,E.gn)([(0,C.c)()],O)}}]);
"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[304],{6878:(te,k,f)=>{f.d(k,{E:()=>H});var d=f(5619),r=f(2572),I=f(8180);function S(v,C){const u=C.index>=0?C.index:v.length+C.index;if(v.slice(u,u+C.pattern.length)!==C.pattern)return null;const _=v.length-(v.slice(0,C.index).length+C.pattern.length);let g=v.slice(0,C.index)+C.replace;return _>0&&(g+=v.slice(-1*_)),g}var x=f(5879),M=f(463);let H=(()=>{class v{constructor(u){this.bookService=u,this.currentDictionaryState$=new d.X(null),this.minimalSearchPattern=2,this.maxNumberOfSearchResults=20,this.morphology={},this.dictionary={},this.morphologyReplaceRules=[],this.dictionaryIsEmpty=!0,this.morphologyIsEmpty=!0,this.searchTerm="",this.currentTerm="",this.terms=[],(0,r.a)([this.bookService.getMorphology$(),this.bookService.getDictionary$(),this.bookService.getMorphologyReplaceRules$()]).pipe((0,I.q)(1)).subscribe(([_,g,E])=>{_?.morphology?(this.morphology=_.morphology,this.morphologyIsEmpty=!1):(this.morphology={},this.morphologyIsEmpty=!0),this.morphologyReplaceRules=E?.morphologyReplaceRules?E.morphologyReplaceRules:[],g?.dictionary?(this.dictionary=g.dictionary,this.terms=Object.keys(this.dictionary),this.dictionaryIsEmpty=!1):(this.dictionary={},this.dictionaryIsEmpty=!0),this.setDictionaryState(null)})}searchTerms(u){return u.length<this.minimalSearchPattern?null:this.terms.filter(_=>_.startsWith(u.toLowerCase())).slice(0,this.maxNumberOfSearchResults)}setTerm(u){this.searchTerm=u,this.currentTerm=u.trim().toLowerCase(),this.setDictionaryState(null);let _=this.getTerm(this.currentTerm);if(_)this.setDictionaryState(_);else{if(!this.morphologyIsEmpty){const g=this.morphology[this.currentTerm];if(g?.o&&(_=this.getTerm(g.o),_))return void this.setDictionaryState(_)}for(let g=0;g<this.morphologyReplaceRules.length;g++){const E=S(this.currentTerm,this.morphologyReplaceRules[g]);if(!E)continue;const j=this.getTerm(E);if(j)return this.currentTerm=E,void this.setDictionaryState(j)}}}setDictionaryState(u){this.currentDictionaryState$.next({currentDictionaryTerm:u,dictionaryIsEmpty:this.dictionaryIsEmpty,searchTerm:this.searchTerm})}getTerm(u){if(!u||this.dictionaryIsEmpty)return null;const _=this.dictionary[u]||null;return _?.articles?.length?_:null}}return v.\u0275fac=function(u){return new(u||v)(x.LFG(M.Z))},v.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},5709:(te,k,f)=>{f.d(k,{j:()=>H});var d=f(5619),r=f(8180),I=f(7772),S=f(5879),x=f(2e3),M=f(957);let H=(()=>{class v{constructor(u,_){this.dbService=u,this.infoService=_,this.examples$=new d.X([]),this.sort=(g,E)=>(g.toDoTimestamp||0)-(E.toDoTimestamp||0),this.dbService.getAll(I.L.FavoriteExamples).pipe((0,r.q)(1)).subscribe(g=>{g.forEach(E=>E.showDetails=!1),g?(g.sort(this.sort),this.examples$.next(g)):this.examples$.next([])})}addExample(u){const _=Date.now(),g={...u,timestamp:_,showDetails:!1};this.dbService.add(I.L.FavoriteExamples,g).pipe((0,r.q)(1)).subscribe();const E=[g,...this.examples$.value];this.examples$.next(E),this.infoService.show("added: "+u.original)}update(u){if(!u?.timestamp||!u.toDoTimestamp)return;const _=this.examples$.value,g=_.find(E=>E.timestamp===u.timestamp);g&&(g.toDoTimestamp=u.toDoTimestamp,g.updateTimestamp=Date.now(),this.dbService.update(I.L.FavoriteExamples,g).pipe((0,r.q)(1)).subscribe(),_.sort(this.sort),this.examples$.next(_))}removeExample(u){if(!u)return;this.dbService.delete(I.L.FavoriteExamples,u).pipe((0,r.q)(1)).subscribe();const _=this.examples$.value.filter(g=>g.timestamp!==u);this.examples$.next(_)}}return v.\u0275fac=function(u){return new(u||v)(S.LFG(x.ys),S.LFG(M.C))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},8304:(te,k,f)=>{f.d(k,{Z:()=>F});var C,d=f(7582),r=f(5879),I=f(6814),S=f(1791),x=f(2296),M=f(1175),H=f(6878),v=f(5709);const u=["topMarker"];function _(l,h){1&l&&(r.TgZ(0,"div",7),r._uU(1," dictionaryIsEmpty\n"),r.qZA())}function g(l,h){if(1&l){const c=r.EpF();r.TgZ(0,"div",10),r.NdJ("click",function(){const P=r.CHM(c).$implicit,B=r.oxw(2);return r.KtG(B.selectPartOfSpeech(P))}),r._uU(1),r.qZA()}if(2&l){const c=h.$implicit,y=r.oxw(2);r.ekj("selected",y.selectedPartsOfSpeech.includes(c)),r.xp6(1),r.hij(" ",c," ")}}function E(l,h){if(1&l&&(r.TgZ(0,"div",8),r.YNc(1,g,2,3,"div",9),r.qZA()),2&l){const c=r.oxw();r.xp6(1),r.Q6J("ngForOf",c.partsOfSpeech)}}function j(l,h){1&l&&(r.TgZ(0,"span"),r._uU(1," => "),r.qZA())}function ne(l,h){if(1&l&&(r.TgZ(0,"span"),r._uU(1),r.YNc(2,j,2,0,"span",5),r.qZA()),2&l){const c=r.oxw();r.xp6(1),r.hij("",c.searchTerm," "),r.xp6(1),r.Q6J("ngIf",null==c.dictionaryTerm?null:c.dictionaryTerm.term)}}function re(l,h){if(1&l&&(r.TgZ(0,"span",17),r._uU(1),r.qZA()),2&l){const c=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",c.transcription," ")}}function J(l,h){if(1&l&&(r.TgZ(0,"span",18),r._uU(1),r.qZA()),2&l){const c=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",c.dictionaryName," ")}}function $(l,h){if(1&l&&(r.TgZ(0,"div",26),r._uU(1),r.qZA()),2&l){const c=r.oxw().$implicit;r.xp6(1),r.hij(" ",c.lexicalUnit," ")}}function O(l,h){if(1&l&&(r.TgZ(0,"div",27),r._uU(1),r.qZA()),2&l){const c=r.oxw().$implicit;r.xp6(1),r.hij(" Synonym: ",c.synonym," ")}}function fe(l,h){if(1&l&&(r.TgZ(0,"div",28),r._uU(1),r.qZA()),2&l){const c=r.oxw().$implicit;r.xp6(1),r.hij(" Antonym: ",c.antonym," ")}}function se(l,h){if(1&l){const c=r.EpF();r.TgZ(0,"div",32)(1,"div",33),r.NdJ("dblclick",function(){r.CHM(c);const b=r.oxw(5);return r.KtG(b.clickOnWord.emit())}),r.TgZ(2,"button",34),r.NdJ("click",function(b){const B=r.CHM(c).$implicit,ce=r.oxw(2).$implicit,A=r.oxw(2).$implicit;return r.oxw().addExample(B,ce,A),r.KtG(b.stopPropagation())}),r._UZ(3,"mat-icon",35),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA()(),r.TgZ(6,"div",36),r._uU(7),r.qZA()()}if(2&l){const c=h.$implicit;r.xp6(5),r.hij(" ",c.original," "),r.xp6(2),r.Oqu(c.translation)}}function oe(l,h){if(1&l&&(r.TgZ(0,"div",29)(1,"div",30),r.YNc(2,se,8,2,"div",31),r.qZA()()),2&l){const c=r.oxw().$implicit;r.xp6(2),r.Q6J("ngForOf",c.examples)}}function ie(l,h){if(1&l){const c=r.EpF();r.TgZ(0,"div",19),r.YNc(1,$,2,1,"div",20),r.TgZ(2,"div",21),r.NdJ("click",function(){const P=r.CHM(c).$implicit;return r.KtG(P.showDetails=!P.showDetails)}),r.TgZ(3,"span",22),r.NdJ("dblclick",function(){r.CHM(c);const b=r.oxw(3);return r.KtG(b.clickOnWord.emit())}),r._uU(4),r.qZA()(),r.YNc(5,O,2,1,"div",23),r.YNc(6,fe,2,1,"div",24),r.YNc(7,oe,3,1,"div",25),r.qZA()}if(2&l){const c=h.$implicit;r.xp6(1),r.Q6J("ngIf",c.lexicalUnit),r.xp6(1),r.ekj("has-examples",c.examples),r.xp6(2),r.hij(" ",c.definition," "),r.xp6(1),r.Q6J("ngIf",c.synonym),r.xp6(1),r.Q6J("ngIf",c.antonym),r.xp6(1),r.Q6J("ngIf",c.showDetails)}}function ae(l,h){if(1&l){const c=r.EpF();r.ynx(0),r.TgZ(1,"div",12),r.YNc(2,re,2,1,"span",13),r.TgZ(3,"span",10),r.NdJ("click",function(){r.CHM(c);const b=r.oxw().$implicit,P=r.oxw();return r.KtG(P.selectPartOfSpeech(b.partOfSpeech))}),r._uU(4),r.qZA(),r.YNc(5,J,2,1,"span",14),r.qZA(),r.TgZ(6,"div",15),r.YNc(7,ie,8,7,"div",16),r.qZA(),r.BQk()}if(2&l){const c=r.oxw().$implicit,y=r.oxw();r.xp6(2),r.Q6J("ngIf",c.transcription),r.xp6(1),r.ekj("selected",y.selectedPartsOfSpeech.includes(c.partOfSpeech)),r.xp6(1),r.hij(" ",c.partOfSpeech," "),r.xp6(1),r.Q6J("ngIf",c.dictionaryName),r.xp6(2),r.Q6J("ngForOf",c.definitions)}}function W(l,h){if(1&l&&(r.TgZ(0,"div",11),r.YNc(1,ae,8,6,"ng-container",5),r.qZA()),2&l){const c=h.$implicit,y=r.oxw();r.xp6(1),r.Q6J("ngIf",!y.selectedPartsOfSpeech.length||y.selectedPartsOfSpeech.includes(c.partOfSpeech))}}let F=((C=class{set term(h){this.dictionaryService.setTerm(h)}constructor(h,c,y){this.cdr=h,this.dictionaryService=c,this.favoriteExamplesService=y,this.clickOnWord=new r.vpe,this.searchTerm="",this.dictionaryIsEmpty=!1,this.dictionaryTerm=null,this.partsOfSpeech=[],this.selectedPartsOfSpeech=[]}selectPartOfSpeech(h){this.selectedPartsOfSpeech.includes(h)?this.selectedPartsOfSpeech=this.selectedPartsOfSpeech.filter(c=>c!==h):this.selectedPartsOfSpeech.push(h)}ngOnInit(){this.dictionaryService.currentDictionaryState$.pipe((0,S.t)(this)).subscribe(h=>{this.searchTerm=h?.searchTerm||"",this.dictionaryTerm=h?.currentDictionaryTerm||null,this.dictionaryIsEmpty=!!h?.dictionaryIsEmpty,this.setTerm(this.dictionaryTerm)})}addExample(h,c,y){this.favoriteExamplesService.addExample({definition:c.definition,original:h.original,translation:h.translation||"",synonym:c.synonym||"",antonym:c.antonym||"",partOfSpeech:y.partOfSpeech,term:this.dictionaryTerm?.term||"",transcription:y.transcription||""})}setTerm(h){if(this.selectedPartsOfSpeech=[],this.dictionaryTerm=h,!h)return this.partsOfSpeech=[],void this.cdr.detectChanges();const c=h.articles.map(y=>y.partOfSpeech?.toLowerCase()?.trim()||"").filter(y=>!!y);this.partsOfSpeech=[...new Set(c)],this.topMarker?.nativeElement?.scrollIntoView(),this.cdr.detectChanges()}}).\u0275fac=function(h){return new(h||C)(r.Y36(r.sBO),r.Y36(H.E),r.Y36(v.j))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-dictionary"]],viewQuery:function(h,c){if(1&h&&r.Gf(u,5),2&h){let y;r.iGM(y=r.CRH())&&(c.topMarker=y.first)}},inputs:{term:"term"},outputs:{clickOnWord:"clickOnWord"},standalone:!0,features:[r.jDz],decls:8,vars:5,consts:[[1,"top-marker"],["topMarker",""],["class","empty-dictionary",4,"ngIf"],["class","parts-of-speech",4,"ngIf"],[1,"header"],[4,"ngIf"],["class","article",4,"ngFor","ngForOf"],[1,"empty-dictionary"],[1,"parts-of-speech"],["class","part-of-speech",3,"selected","click",4,"ngFor","ngForOf"],[1,"part-of-speech",3,"click"],[1,"article"],[1,"article-header"],["class","transcription",4,"ngIf"],["class","dictionary",4,"ngIf"],[1,"definitions"],["class","definition",4,"ngFor","ngForOf"],[1,"transcription"],[1,"dictionary"],[1,"definition"],["class","lex-unit",4,"ngIf"],[1,"definition",3,"click"],[3,"dblclick"],["class","synonym",4,"ngIf"],["class","antonym",4,"ngIf"],["class","details",4,"ngIf"],[1,"lex-unit"],[1,"synonym"],[1,"antonym"],[1,"details"],[1,"examples"],["class","example",4,"ngFor","ngForOf"],[1,"example"],[1,"original",3,"dblclick"],["mat-icon-button","","color","primary",3,"click"],["fontIcon","add",1,"icon"],[1,"translation"]],template:function(h,c){if(1&h&&(r._UZ(0,"div",0,1),r.YNc(2,_,2,0,"div",2),r.YNc(3,E,2,1,"div",3),r.TgZ(4,"div",4),r.YNc(5,ne,3,2,"span",5),r._uU(6),r.qZA(),r.YNc(7,W,2,1,"div",6)),2&h){let y;r.xp6(2),r.Q6J("ngIf",c.dictionaryIsEmpty),r.xp6(1),r.Q6J("ngIf",(null==c.partsOfSpeech?null:c.partsOfSpeech.length)&&c.partsOfSpeech.length>1),r.xp6(2),r.Q6J("ngIf",c.searchTerm.trim().toLowerCase()!==(null==c.dictionaryTerm||null==c.dictionaryTerm.term||null==(y=c.dictionaryTerm.term.trim())?null:y.toLowerCase())),r.xp6(1),r.hij(" ",null==c.dictionaryTerm?null:c.dictionaryTerm.term,"\n"),r.xp6(1),r.Q6J("ngForOf",null==c.dictionaryTerm?null:c.dictionaryTerm.articles)}},dependencies:[I.ez,I.sg,I.O5,x.ot,x.RK,M.Ps,M.Hw],styles:["[_nghost-%COMP%]{display:block;padding:var(--padding-main);font-size:var(--dictionary-main-font-size)}.parts-of-speech[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.parts-of-speech[_ngcontent-%COMP%]   .part-of-speech[_ngcontent-%COMP%]{cursor:pointer;margin:4px}.parts-of-speech[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{outline:1px solid green}.header[_ngcontent-%COMP%]{font-size:var(--dictionary-header-font-size);font-weight:700}.has-examples[_ngcontent-%COMP%]{cursor:pointer;font-weight:500}.article[_ngcontent-%COMP%]{margin:16px 0}.article[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]{margin:var(--padding-main) 0;line-height:2}.article[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .transcription[_ngcontent-%COMP%]{color:#000;margin:4px;padding:4px;background-color:#f9e79f}.article[_ngcontent-%COMP%]   .article-header[_ngcontent-%COMP%]   .dictionary[_ngcontent-%COMP%]{color:#000;margin:4px;padding:4px;background-color:#94ff7d}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]{margin:8px 0}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .lex-unit[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .synonym[_ngcontent-%COMP%]{color:green;padding-left:var(--padding-small)}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .antonym[_ngcontent-%COMP%]{color:red;padding-left:var(--padding-small)}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding-left:var(--padding-small)}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{padding-left:var(--padding-small);margin:8px 0}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{display:flex;align-items:center}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer}.article[_ngcontent-%COMP%]   .definition[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .translation[_ngcontent-%COMP%]{color:gray;padding-left:var(--padding-large)}.part-of-speech[_ngcontent-%COMP%]{font-weight:700;background-color:wheat;padding:4px;margin:4px 0;cursor:pointer}"],changeDetection:0}),C);F=(0,d.gn)([(0,S.c)()],F)},1175:(te,k,f)=>{f.d(k,{Hw:()=>ct,Ps:()=>lt});var d=f(5879),r=f(3680),I=f(2495),S=f(6814),x=f(2096),M=f(8504),H=f(9315),v=f(7394),C=f(9397),u=f(7398),_=f(6306),g=f(4716),E=f(3020),j=f(8180),ne=f(6328),re=f(2181);class J{}class O{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const o=e.slice(0,n),i=o.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(a):this.headers.set(i,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof O?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new O;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof O?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":const i=t.value;if(i){let a=this.headers.get(e);if(!a)return;a=a.filter(p=>-1===i.indexOf(p)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class se{encodeKey(t){return W(t)}encodeValue(t){return W(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ie=/%(\d[a-f0-9])/gi,ae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function W(s){return encodeURIComponent(s).replace(ie,(t,e)=>ae[e]??t)}function F(s){return`${s}`}class l{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new se,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oe(s,t){const e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[a,p]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],m=e.get(a)||[];m.push(p),e.set(a,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],o=Array.isArray(n)?n.map(F):[F(n)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{e.push({param:n,value:i,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new l({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(F(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(F(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class c{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function b(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function P(s){return typeof Blob<"u"&&s instanceof Blob}function B(s){return typeof FormData<"u"&&s instanceof FormData}class A{constructor(t,e,n,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function y(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new O),this.context||(this.context=new c),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+a}}else this.params=new l,this.urlWithParams=e}serializeBody(){return null===this.body?null:b(this.body)||P(this.body)||B(this.body)||function ce(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof l?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B(this.body)?null:P(this.body)?this.body.type||null:b(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof l?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,T=t.params||this.params;const R=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((X,w)=>X.set(w,t.setHeaders[w]),m)),t.setParams&&(T=Object.keys(t.setParams).reduce((X,w)=>X.set(w,t.setParams[w]),T)),new A(e,n,i,{params:T,headers:m,context:R,reportProgress:p,responseType:o,withCredentials:a})}}var K=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(K||{});class Me{constructor(t,e=200,n="OK"){this.headers=t.headers||new O,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class z extends Me{constructor(t={}){super(t),this.type=K.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new z({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function le(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let de=(()=>{class s{constructor(e){this.handler=e}request(e,n,o={}){let i;if(e instanceof A)i=e;else{let m,T;m=o.headers instanceof O?o.headers:new O(o.headers),o.params&&(T=o.params instanceof l?o.params:new l({fromObject:o.params})),i=new A(e,n,void 0!==o.body?o.body:null,{headers:m,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=(0,x.of)(i).pipe((0,ne.b)(m=>this.handler.handle(m)));if(e instanceof A||"events"===o.observe)return a;const p=a.pipe((0,re.h)(m=>m instanceof z));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return p.pipe((0,u.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return p.pipe((0,u.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return p.pipe((0,u.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return p.pipe((0,u.U)(m=>m.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new l).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,le(o,n))}post(e,n,o={}){return this.request("POST",e,le(o,n))}put(e,n,o={}){return this.request("PUT",e,le(o,n))}}return s.\u0275fac=function(e){return new(e||s)(d.LFG(J))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac}),s})();var Ie=f(6593);const Ge=["*"];let V;function Z(s){return function Ve(){if(void 0===V&&(V=null,typeof window<"u")){const s=window;void 0!==s.trustedTypes&&(V=s.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return V}()?.createHTML(s)||s}function Se(s){return Error(`Unable to find icon with the name "${s}"`)}function be(s){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${s}".`)}function Oe(s){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${s}".`)}class U{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Q=(()=>{class s{constructor(e,n,o,i){this._httpClient=e,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,n,o){return this.addSvgIconInNamespace("",e,n,o)}addSvgIconLiteral(e,n,o){return this.addSvgIconLiteralInNamespace("",e,n,o)}addSvgIconInNamespace(e,n,o,i){return this._addSvgIconConfig(e,n,new U(o,null,i))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,o,i){const a=this._sanitizer.sanitize(d.q3G.HTML,o);if(!a)throw Oe(o);const p=Z(a);return this._addSvgIconConfig(e,n,new U("",p,i))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,o){return this._addSvgIconSetConfig(e,new U(n,null,o))}addSvgIconSetLiteralInNamespace(e,n,o){const i=this._sanitizer.sanitize(d.q3G.HTML,n);if(!i)throw Oe(n);const a=Z(i);return this._addSvgIconSetConfig(e,new U("",a,o))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,e);if(!n)throw be(e);const o=this._cachedIconsByUrl.get(n);return o?(0,x.of)(ee(o)):this._loadSvgIconFromConfig(new U(e,null)).pipe((0,C.b)(i=>this._cachedIconsByUrl.set(n,i)),(0,u.U)(i=>ee(i)))}getNamedSvgIcon(e,n=""){const o=Pe(n,e);let i=this._svgIconConfigs.get(o);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(n,e),i)return this._svgIconConfigs.set(o,i),this._getSvgFromConfig(i);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):(0,M._)(Se(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,x.of)(ee(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,u.U)(n=>ee(n)))}_getSvgFromIconSetConfigs(e,n){const o=this._extractIconWithNameFromAnySet(e,n);if(o)return(0,x.of)(o);const i=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,_.K)(p=>{const T=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,a.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(T)),(0,x.of)(null)})));return(0,H.D)(i).pipe((0,u.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw Se(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let o=n.length-1;o>=0;o--){const i=n[o];if(i.svgText&&i.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(i),p=this._extractSvgIconFromSet(a,e,i.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,C.b)(n=>e.svgText=n),(0,u.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,x.of)(null):this._fetchIcon(e).pipe((0,C.b)(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,o){const i=e.querySelector(`[id="${n}"]`);if(!i)return null;const a=i.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,o);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),o);const p=this._svgElementFromString(Z("<svg></svg>"));return p.appendChild(a),this._setSvgAttributes(p,o)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const o=n.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const n=this._svgElementFromString(Z("<svg></svg>")),o=e.attributes;for(let i=0;i<o.length;i++){const{name:a,value:p}=o[i];"id"!==a&&n.setAttribute(a,p)}for(let i=0;i<e.childNodes.length;i++)e.childNodes[i].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[i].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:o}=e,i=o?.withCredentials??!1;if(!this._httpClient)throw function Qe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const a=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,n);if(!a)throw be(n);const p=this._inProgressUrlFetches.get(a);if(p)return p;const m=this._httpClient.get(a,{responseType:"text",withCredentials:i}).pipe((0,u.U)(T=>Z(T)),(0,g.x)(()=>this._inProgressUrlFetches.delete(a)),(0,E.B)());return this._inProgressUrlFetches.set(a,m),m}_addSvgIconConfig(e,n,o){return this._svgIconConfigs.set(Pe(e,n),o),this}_addSvgIconSetConfig(e,n){const o=this._iconSetConfigs.get(e);return o?o.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let o=0;o<this._resolvers.length;o++){const i=this._resolvers[o](n,e);if(i)return tt(i)?new U(i.url,null,i.options):new U(i,null)}}}return s.\u0275fac=function(e){return new(e||s)(d.LFG(de,8),d.LFG(Ie.H7),d.LFG(S.K0,8),d.LFG(d.qLn))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ee(s){return s.cloneNode(!0)}function Pe(s,t){return s+":"+t}function tt(s){return!(!s.url||!s.options)}const nt=(0,r.pj)(class{constructor(s){this._elementRef=s}}),rt=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),st=new d.OlP("mat-icon-location",{providedIn:"root",factory:function ot(){const s=(0,d.f3M)(S.K0),t=s?s.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),we=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],it=we.map(s=>`[${s}]`).join(", "),at=/^url\(['"]?#(.*?)['"]?\)$/;let ct=(()=>{class s extends nt{get inline(){return this._inline}set inline(e){this._inline=(0,I.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,o,i,a,p){super(e),this._iconRegistry=n,this._location=i,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=v.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const o=e.childNodes[n];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),n.forEach(o=>e.classList.add(o)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((o,i)=>{o.forEach(a=>{i.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(it),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<n.length;i++)we.forEach(a=>{const p=n[i],m=p.getAttribute(a),T=m?m.match(at):null;if(T){let R=o.get(p);R||(R=[],o.set(p,R)),R.push({name:a,value:T[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,o]=this._splitIconName(e);n&&(this._svgNamespace=n),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,n).pipe((0,j.q)(1)).subscribe(i=>this._setSvgElement(i),i=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${o}! ${i.message}`))})}}}return s.\u0275fac=function(e){return new(e||s)(d.Y36(d.SBq),d.Y36(Q),d.$8M("aria-hidden"),d.Y36(st),d.Y36(d.qLn),d.Y36(rt,8))},s.\u0275cmp=d.Xpm({type:s,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,n){2&e&&(d.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),d.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Ge,decls:1,vars:0,template:function(e,n){1&e&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),s})(),lt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[r.BQ,r.BQ]}),s})()}}]);
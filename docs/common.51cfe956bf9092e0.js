"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[592],{5152:(p,b,l)=>{l.d(b,{N:()=>g});var a=l(5619);const u=[{label:"Main background color",cssVariable:"--background-color-main"},{label:"Accent background color (header)",cssVariable:"--background-color-accent"},{label:'Font family ("Segoe UI", roboto, verdana, sans-serif)',cssVariable:"--font-family"},{label:"Main font color (original text)",cssVariable:"--font-color-main"},{label:"Translation font color",cssVariable:"--font-color-translation"},{label:"Translation font color - for mobile (small screens)",cssVariable:"--font-color-translation-mobile"},{label:"Accent font color (header)",cssVariable:"--font-color-accent"},{label:"Font size original text (32px)",cssVariable:"--font-size-original-text"},{label:"Font size translation text (24px)",cssVariable:"--font-size-translation-text"},{label:"Flex width original text (1)",cssVariable:"--flex-width-original"},{label:"Flex width translation text (0.6)",cssVariable:"--flex-width-translation"},{label:"Original translation direction (row-reverse | row)",cssVariable:"--original-translation-flex-direction"},{label:"Max width for original text (900px)",cssVariable:"--max-width-for-original-text"},{label:"Color primary",cssVariable:"--color-primary"},{label:"Color accent",cssVariable:"--color-accent"},{label:"Color warn",cssVariable:"--color-warn"}];var d=l(5879),t=l(2969);let g=(()=>{class e{constructor(o){this.localStorageService=o,this.customStyles$=new a.X([]);const r=[];u.forEach(c=>{r.push({...c,value:this.localStorageService.getString(c.cssVariable)})}),this.customStyles$.next(r)}setStyle(o,r){this.localStorageService.setString(o,r);const c=this.customStyles$.value,n=c.find(s=>s.cssVariable===o);n&&(n.value=r,this.customStyles$.next([...c]))}resetAllStyles(){const o=[];u.forEach(r=>{o.push({...r,value:""}),this.localStorageService.setString(r.cssVariable,"")}),this.customStyles$.next(o)}}return e.\u0275fac=function(o){return new(o||e)(d.LFG(t.n))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},144:(p,b,l)=>{l.d(b,{U:()=>o});var a=l(9026),u=l(8180),d=l(7398),g=l(6814),e=l(5879),i=l(463);let o=(()=>{class r{constructor(n){this.bookService=n,this.datePipe=new g.uU("en")}import(n){const s=JSON.parse(n);if(s.book?.title&&s.book?.content?.[0]?.original)return this.bookService.import$(s);console.error("!bilinguaJson.book?.title || !bilinguaJson.book?.content?.[0]?.original")}export(n){(0,a.$)(this.bookService.getTitle$(n),this.bookService.getContent$(n),this.bookService.getHeaders$(n),this.bookService.getMarkedItems$(n),this.bookService.getFragments$(n)).pipe((0,u.q)(1),(0,d.U)(s=>({id:s[0].id,title:s[0].title,description:s[0].description,content:s[1].content,headers:s[2]?.headers||[],markedItems:s[3]?.markedItems||[],fragments:s[4]?.fragments||[]}))).subscribe(s=>{const h={...s},m=JSON.stringify({jsonContentDescription:"Bilingua book",book:h});this.download(m,h.title)})}download(n,s){const S=document.createElement("a"),m=new Blob([n],{type:"text/plain"}),f=this.datePipe.transform(new Date,"yyyy-MM-dd");S.href=URL.createObjectURL(m),S.download=s+`.${f}.bilingua.json`,S.click(),S.remove()}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(i.Z))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2969:(p,b,l)=>{l.d(b,{n:()=>d});var a=function(t){return t.ShowTranslation="ShowTranslation",t.ShowButtonToolTips="ShowButtonToolTips",t.AudioVoiceURI="AudioVoiceURI",t.AudioVolume="AudioVolume",t.AudioRate="AudioRate",t.CurrentPopupMenuTab="CurrentPopupMenuTab",t.CopyToClipboard="CopyToClipboard",t.HideMarkedHeaders="HideMarkedHeaders",t}(a||{}),u=l(5879);let d=(()=>{class t{get hideMarkedHeaders(){return this.getBoolean(a.HideMarkedHeaders,!1)}set hideMarkedHeaders(e){this.setBoolean(a.HideMarkedHeaders,e)}get copyToClipboard(){return this.getBoolean(a.CopyToClipboard,!0)}set copyToClipboard(e){this.setBoolean(a.CopyToClipboard,e)}get currentPopupMenuTab(){return this.getNumber(a.CurrentPopupMenuTab)}set currentPopupMenuTab(e){this.setNumber(a.CurrentPopupMenuTab,e||0)}get audioVolume(){return this.getNumber(a.AudioVolume,1)}set audioVolume(e){this.setNumber(a.AudioVolume,0===e?0:e||1)}get audioRate(){return this.getNumber(a.AudioRate,1)}set audioRate(e){this.setNumber(a.AudioRate,0===e?0:e||1)}get audioVoiceURI(){return localStorage.getItem(a.AudioVoiceURI)||""}set audioVoiceURI(e){localStorage.setItem(a.AudioVoiceURI,e||"")}constructor(){this.trueString="true",this.falseString="false"}getString(e){return localStorage.getItem(e)||""}setString(e,i){localStorage.setItem(e,i)}setNumber(e,i){localStorage.setItem(e,String(i||0))}getNumber(e,i=0){const o=localStorage.getItem(e);if(null===o)return i;const r=+o;return Number.isNaN(r)?i:r}setBoolean(e,i){localStorage.setItem(e,i?this.trueString:this.falseString)}getBoolean(e,i=!1){const o=localStorage.getItem(e);return o===this.trueString||o!==this.falseString&&i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
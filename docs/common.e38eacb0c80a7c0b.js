"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[592],{5152:(h,g,s)=>{s.d(g,{N:()=>d});var l=s(5619);const u=[{label:"Main background color",cssVariable:"--background-color-main"},{label:"Accent background color (header)",cssVariable:"--background-color-accent"},{label:'Font family ("Segoe UI", roboto, verdana, sans-serif)',cssVariable:"--font-family"},{label:"Main font color (original text)",cssVariable:"--font-color-main"},{label:"Translation font color",cssVariable:"--font-color-translation"},{label:"Translation font color - for mobile (small screens)",cssVariable:"--font-color-translation-mobile"},{label:"Accent font color (header)",cssVariable:"--font-color-accent"},{label:"Font size original text (32px)",cssVariable:"--font-size-original-text"},{label:"Font size translation text (24px)",cssVariable:"--font-size-translation-text"},{label:"Flex width original text (1)",cssVariable:"--flex-width-original"},{label:"Flex width translation text (0.6)",cssVariable:"--flex-width-translation"},{label:"Original translation direction (row-reverse | row)",cssVariable:"--original-translation-flex-direction"},{label:"Max width for original text (900px)",cssVariable:"--max-width-for-original-text"},{label:"Color primary",cssVariable:"--color-primary"},{label:"Color accent",cssVariable:"--color-accent"},{label:"Color warn",cssVariable:"--color-warn"}];var b=s(5879),e=s(2969);let d=(()=>{class t{constructor(o){this.localStorageService=o,this.customStyles$=new l.X([]);const r=[];u.forEach(c=>{r.push({...c,value:this.localStorageService.getString(c.cssVariable)})}),this.customStyles$.next(r)}setStyle(o,r){this.localStorageService.setString(o,r);const c=this.customStyles$.value,i=c.find(n=>n.cssVariable===o);i&&(i.value=r,this.customStyles$.next([...c]))}resetAllStyles(){const o=[];u.forEach(r=>{o.push({...r,value:""}),this.localStorageService.setString(r.cssVariable,"")}),this.customStyles$.next(o)}}return t.\u0275fac=function(o){return new(o||t)(b.LFG(e.n))},t.\u0275prov=b.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},144:(h,g,s)=>{s.d(g,{U:()=>o});var l=s(9026),u=s(8180),b=s(7398),d=s(6814),t=s(5879),a=s(463);let o=(()=>{class r{constructor(i){this.bookService=i,this.datePipe=new d.uU("en")}import(i){const n=JSON.parse(i);if(n.book?.title&&n.book?.content?.[0]?.original)return this.bookService.import$(n);console.error("!bilinguaJson.book?.title || !bilinguaJson.book?.content?.[0]?.original")}export(i){(0,l.$)(this.bookService.getTitle$(i),this.bookService.getContent$(i),this.bookService.getHeaders$(i),this.bookService.getMarkedItems$(i),this.bookService.getFragments$(i)).pipe((0,u.q)(1),(0,b.U)(n=>({id:n[0].id,title:n[0].title,description:n[0].description,content:n[1].content,headers:n[2]?.headers||[],markedItems:n[3]?.markedItems||[],fragments:n[4]?.fragments||[]}))).subscribe(n=>{const m={...n},p=JSON.stringify({jsonContentDescription:"Bilingua book",book:m});this.download(p,m.title)})}download(i,n){const S=document.createElement("a"),p=new Blob([i],{type:"text/plain"}),f=this.datePipe.transform(new Date,"yyyy-MM-dd");S.href=URL.createObjectURL(p),S.download=n+`.${f}.bilingua.json`,S.click(),S.remove()}}return r.\u0275fac=function(i){return new(i||r)(t.LFG(a.Z))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2969:(h,g,s)=>{s.d(g,{n:()=>b});var l=function(e){return e.ShowTranslation="ShowTranslation",e.ShowButtonToolTips="ShowButtonToolTips",e.AudioVoiceURI="AudioVoiceURI",e.AudioVolume="AudioVolume",e.AudioRate="AudioRate",e.CurrentPopupMenuTab="CurrentPopupMenuTab",e.CopyToClipboard="CopyToClipboard",e}(l||{}),u=s(5879);let b=(()=>{class e{get copyToClipboard(){return this.getBoolean(l.CopyToClipboard,!0)}set copyToClipboard(t){this.setBoolean(l.CopyToClipboard,t)}get currentPopupMenuTab(){return this.getNumber(l.CurrentPopupMenuTab)}set currentPopupMenuTab(t){this.setNumber(l.CurrentPopupMenuTab,t||0)}get audioVolume(){return this.getNumber(l.AudioVolume,1)}set audioVolume(t){this.setNumber(l.AudioVolume,0===t?0:t||1)}get audioRate(){return this.getNumber(l.AudioRate,1)}set audioRate(t){this.setNumber(l.AudioRate,0===t?0:t||1)}get audioVoiceURI(){return localStorage.getItem(l.AudioVoiceURI)||""}set audioVoiceURI(t){localStorage.setItem(l.AudioVoiceURI,t||"")}constructor(){this.trueString="true",this.falseString="false"}getString(t){return localStorage.getItem(t)||""}setString(t,a){localStorage.setItem(t,a)}setNumber(t,a){localStorage.setItem(t,String(a||0))}getNumber(t,a=0){const o=localStorage.getItem(t);if(null===o)return a;const r=+o;return Number.isNaN(r)?a:r}setBoolean(t,a){localStorage.setItem(t,a?this.trueString:this.falseString)}getBoolean(t,a=!1){const o=localStorage.getItem(t);return o===this.trueString||o!==this.falseString&&a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
"use strict";(self.webpackChunkangular_bilingua=self.webpackChunkangular_bilingua||[]).push([[950],{5709:(S,y,i)=>{i.d(y,{j:()=>b});var h=i(5619),d=i(8180),C=i(2096),t=i(7772),g=i(5879),p=i(2e3),x=i(957);let b=(()=>{class _{constructor(s,m){this.dbService=s,this.infoService=m,this.examples$=new h.X([]),this.sort=(c,f)=>(c.toDoTimestamp||0)-(f.toDoTimestamp||0),this.dbService.getAll(t.L6.FavoriteExamples).pipe((0,d.q)(1)).subscribe(c=>{c.forEach(f=>f.showDetails=!1),c?(c.sort(this.sort),this.examples$.next(c)):this.examples$.next([])})}deleteAll(){return this.dbService.clear(t.L6.FavoriteExamples)}import(s){const m=JSON.parse(s)?.favoriteExamples;return m?.length?this.dbService.bulkAdd(t.L6.FavoriteExamples,m).pipe((0,d.q)(1)):(console.error("!examples?.length"),this.infoService.error("!examples?.length"),(0,C.of)([]))}addExample(s){const m=Date.now(),c={...s,timestamp:m,showDetails:!1};this.dbService.add(t.L6.FavoriteExamples,c).pipe((0,d.q)(1)).subscribe();const f=[c,...this.examples$.value];this.examples$.next(f),this.infoService.show("added: "+s.original)}update(s){if(!s?.timestamp||!s.toDoTimestamp)return;const m=this.examples$.value,c=m.find(f=>f.timestamp===s.timestamp);c&&(c.toDoTimestamp=s.toDoTimestamp,c.updateTimestamp=Date.now(),this.dbService.update(t.L6.FavoriteExamples,c).pipe((0,d.q)(1)).subscribe(),m.sort(this.sort),this.examples$.next(m))}removeExample(s){if(!s)return;this.dbService.delete(t.L6.FavoriteExamples,s).pipe((0,d.q)(1)).subscribe();const m=this.examples$.value.filter(c=>c.timestamp!==s);this.examples$.next(m)}}return _.\u0275fac=function(s){return new(s||_)(g.LFG(p.ys),g.LFG(x.C))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},5950:(S,y,i)=>{i.r(y),i.d(y,{SettingsComponent:()=>D});var h=i(6814),d=i(2296),C=i(4408),t=i(5879),g=i(5195),p=i(8180),x=i(1839),b=i(144);let _=(()=>{class a{constructor(o,e){this.loader=o,this.exportImportService=e,this.update=new t.vpe}readMorphologyReplaceRules(o){const e=o?.target?.files[0];if(!e)return;const r=new FileReader;r.onload=l=>{const n=l?.target?.result;if(!n)return;const u=this.exportImportService.importMorphologyReplaceRules(n);u&&(this.loader.start(),u.pipe((0,p.q)(1)).subscribe(()=>{this.loader.stop()}))},r.readAsText(e)}readMorphology(o){const e=o?.target?.files[0];if(!e)return;const r=new FileReader;r.onload=l=>{const n=l?.target?.result;if(!n)return;const u=this.exportImportService.importMorphology(n);u&&(this.loader.start(),u.pipe((0,p.q)(1)).subscribe(()=>{this.loader.stop()}))},r.readAsText(e)}readDictionary(o){const e=o?.target?.files[0];if(!e)return;const r=new FileReader;r.onload=l=>{const n=l?.target?.result;if(!n)return;const u=this.exportImportService.importDictionary(n);u&&(this.loader.start(),u.pipe((0,p.q)(1)).subscribe(()=>{this.loader.stop()}))},r.readAsText(e)}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(x.D),t.Y36(b.U))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-import-dictionary"]],outputs:{update:"update"},standalone:!0,features:[t.jDz],decls:18,vars:0,consts:[[1,"info"],[1,"create-import-block"],["mat-button","","color","primary",1,"link-item",3,"click"],["type","file","accept",".json",1,"hidden-file-input",3,"change"],["morphologyFileInput",""],["morphologyReplaceRulesFileInput",""],["dictionaryFileInput",""]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"mat-card")(1,"div",0),t._uU(2," It can take a few minutes to import a large dictionary. You'll have to wait. "),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){t.CHM(r);const n=t.MAs(13);return t.KtG(n.click())}),t._uU(5," Import (replace) morphology "),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){t.CHM(r);const n=t.MAs(15);return t.KtG(n.click())}),t._uU(7," Import (replace) MorphologyReplaceRules "),t.qZA(),t.TgZ(8,"button",2),t.NdJ("click",function(){t.CHM(r);const n=t.MAs(17);return t.KtG(n.click())}),t._uU(9," Import (replace) dictionary "),t.qZA()(),t.TgZ(10,"div",0),t._uU(11," You have to reload web-application to apply new morphology. "),t.qZA()(),t.TgZ(12,"input",3,4),t.NdJ("change",function(n){return e.readMorphology(n)}),t.qZA(),t.TgZ(14,"input",3,5),t.NdJ("change",function(n){return e.readMorphologyReplaceRules(n)}),t.qZA(),t.TgZ(16,"input",3,6),t.NdJ("change",function(n){return e.readDictionary(n)}),t.qZA()}},dependencies:[h.ez,d.ot,d.lW,g.QW,g.a8],styles:[".create-import-block[_ngcontent-%COMP%]{padding:var(--padding-main);margin-top:var(--padding-main)}.create-import-block[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;box-sizing:border-box}.hidden-file-input[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{padding:var(--padding-main);width:100%;box-sizing:border-box;text-align:center;font-size:10px;color:gray}mat-card[_ngcontent-%COMP%]{margin-top:var(--padding-main)}.info[_ngcontent-%COMP%]{margin:auto;padding:var(--padding-small)}"],changeDetection:0}),a})();var m=i(5709);let c=(()=>{class a{constructor(o,e){this.loader=o,this.favoriteExamplesService=e,this.update=new t.vpe,this.datePipe=new h.uU("en")}export(){const o=this.favoriteExamplesService.examples$.value;o?.length&&this.download(function s(a){return JSON.stringify(a,null,2)}({favoriteExamples:o}),"favorite-examples")}import(o){const e=o?.target?.files[0];if(!e)return;const r=new FileReader;r.onload=l=>{const n=l?.target?.result;if(!n)return;const u=this.favoriteExamplesService.import(n);u&&(this.loader.start(),u.pipe((0,p.q)(1)).subscribe(M=>{this.loader.stop()}))},r.readAsText(e)}deleteAll(){window.confirm("Delete all?")&&(this.loader.start(),this.favoriteExamplesService.deleteAll().pipe((0,p.q)(1)).subscribe(e=>{this.loader.stop()}))}download(o,e){!function T(a,v){const e=document.createElement("a"),r=new Blob([a],{type:"text/plain"});e.href=URL.createObjectURL(r),e.download=v,e.click(),e.remove()}(o,e+`.${this.datePipe.transform(new Date,"yyyy-MM-dd")}.json`)}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(x.D),t.Y36(m.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-import-favorite-example"]],outputs:{update:"update"},standalone:!0,features:[t.jDz],decls:12,vars:0,consts:[[1,"info"],[1,"create-import-block"],["mat-button","","color","primary",1,"link-item",3,"click"],["type","file","accept",".json",1,"hidden-file-input",3,"change"],["importFileInput",""]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"mat-card")(1,"div",0),t._uU(2," Favorite examples. You have to reload page after import. "),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return e.export()}),t._uU(5," Export Favorites "),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){t.CHM(r);const n=t.MAs(11);return t.KtG(n.click())}),t._uU(7," Import (add) Favorites "),t.qZA(),t.TgZ(8,"button",2),t.NdJ("click",function(){return e.deleteAll()}),t._uU(9," Delete all Favorites "),t.qZA()()(),t.TgZ(10,"input",3,4),t.NdJ("change",function(n){return e.import(n)}),t.qZA()}},dependencies:[h.ez,d.ot,d.lW,g.QW,g.a8],styles:[".create-import-block[_ngcontent-%COMP%]{padding:var(--padding-main)}.create-import-block[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;box-sizing:border-box}.hidden-file-input[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{padding:var(--padding-main);width:100%;box-sizing:border-box;text-align:center;font-size:10px;color:gray}mat-card[_ngcontent-%COMP%]{margin-top:var(--padding-main)}.info[_ngcontent-%COMP%]{margin:auto;padding:var(--padding-small)}"],changeDetection:0}),a})();var f=i(5152),E=i(2969);let D=(()=>{class a{constructor(o,e){this.customStylesService=o,this.localStorageService=e,this.copyToClipboardState=this.localStorageService.copyToClipboard,this.showDictionarySate=this.localStorageService.showDictionary}copyToClipboard(o){this.localStorageService.copyToClipboard=o,this.copyToClipboardState=o}showDictionary(o){this.localStorageService.showDictionary=o,this.showDictionarySate=o}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(f.N),t.Y36(E.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-settings"]],standalone:!0,features:[t.jDz],decls:22,vars:2,consts:[[1,"component-content"],[1,"header"],["mat-button","","color","primary","routerLink","/"],[1,"title"],[1,"settings"],[1,"divider"],[1,"setting-item"],["mat-button","","color","primary",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3," Go Home. "),t.qZA(),t.TgZ(4,"div",3),t._uU(5,"Settings"),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"div",5),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return e.customStylesService.resetAllStyles()}),t._uU(10," Reset all styles "),t.qZA()(),t._UZ(11,"div",5),t.TgZ(12,"div",6)(13,"button",7),t.NdJ("click",function(){return e.copyToClipboard(!e.copyToClipboardState)}),t._uU(14),t.qZA()(),t._UZ(15,"div",5),t.TgZ(16,"div",6)(17,"button",7),t.NdJ("click",function(){return e.showDictionary(!e.showDictionarySate)}),t._uU(18),t.qZA()(),t._UZ(19,"div",5)(20,"app-import-dictionary")(21,"app-import-favorite-example"),t.qZA()()),2&o&&(t.xp6(14),t.hij(" Copy to clipboard: ",e.copyToClipboardState," "),t.xp6(4),t.hij(" Show dictionary: ",e.showDictionarySate," "))},dependencies:[h.ez,d.ot,d.lW,C.rH,_,c],styles:[".component-content[_ngcontent-%COMP%]{padding:var(--padding-main)}.component-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-main)}.component-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.component-content[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;min-width:100%;border-top:1px dashed gray;margin:var(--padding-main) 0}.component-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{justify-content:center;display:flex}"]}),a})()},957:(S,y,i)=>{i.d(y,{C:()=>C});var h=i(5879),d=i(2939);let C=(()=>{class t{constructor(p){this.snackBar=p}show(p){this.snackBar.open(p,"",{duration:1e3,verticalPosition:"top",panelClass:"info-snack"})}error(p){this.snackBar.open(p,"",{duration:1e3,verticalPosition:"top",panelClass:"error-snack"})}}return t.\u0275fac=function(p){return new(p||t)(h.LFG(d.ux))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);